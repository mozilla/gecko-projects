<html lang="en" dir="ltr">
<body>
<div id="maindiv">Hello World!</div>
</body>
<script>
const Cc = SpecialPowers.Cc;
const Ci = SpecialPowers.Ci;
const cpmm = Cc["@mozilla.org/childprocessmessagemanager;1"]
             .getService(Ci.nsISyncMessageSender);
var number = 0;
function f() {
  updateNumber();
  if (number >= 10) {
    cpmm.sendAsyncMessage("RecordingFinished");
    return;
  }
  window.setTimeout(f, 1);
}
function updateNumber() {
  number++;
  document.getElementById("maindiv").innerHTML = "Number: " + number;
}
window.setTimeout(f, 1);
</script>
</html>
