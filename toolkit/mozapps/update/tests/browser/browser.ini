[DEFAULT]
tags = appupdate
support-files =
  head.js
  downloadPage.html
  testConstants.js
  app_update.sjs

# About Dialog Application Update Tests
[browser_aboutDialog_bc_downloaded.js]
[browser_aboutDialog_bc_downloaded_staged.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutDialog_fc_check_cantApply.js]
skip-if = os != 'win'
reason = test must be able to prevent file deletion.
[browser_aboutDialog_fc_check_malformedXML.js]
[browser_aboutDialog_fc_check_noUpdate.js]
[browser_aboutDialog_fc_check_otherInstance.js]
skip-if = os != 'win'
reason = Windows only feature.
[browser_aboutDialog_fc_check_unsupported.js]
[browser_aboutDialog_fc_downloadAuto.js]
[browser_aboutDialog_fc_downloadAuto_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutDialog_fc_downloadOptIn.js]
[browser_aboutDialog_fc_downloadOptIn_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutDialog_fc_patch_completeBadSize.js]
[browser_aboutDialog_fc_patch_partialBadSize.js]
[browser_aboutDialog_fc_patch_partialBadSize_complete.js]
[browser_aboutDialog_fc_patch_partialBadSize_completeBadSize.js]

# about:preferences Application Update Tests
[browser_aboutPrefs_bc_downloaded.js]
[browser_aboutPrefs_bc_downloaded_staged.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutPrefs_fc_check_cantApply.js]
skip-if = os != 'win'
reason = test must be able to prevent file deletion.
[browser_aboutPrefs_fc_check_malformedXML.js]
[browser_aboutPrefs_fc_check_noUpdate.js]
[browser_aboutPrefs_fc_check_otherInstance.js]
skip-if = os != 'win'
reason = Windows only feature.
[browser_aboutPrefs_fc_check_unsupported.js]
[browser_aboutPrefs_fc_downloadAuto.js]
[browser_aboutPrefs_fc_downloadAuto_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutPrefs_fc_downloadOptIn.js]
[browser_aboutPrefs_fc_downloadOptIn_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_aboutPrefs_fc_patch_completeBadSize.js]
[browser_aboutPrefs_fc_patch_partialBadSize.js]
[browser_aboutPrefs_fc_patch_partialBadSize_complete.js]
[browser_aboutPrefs_fc_patch_partialBadSize_completeBadSize.js]
[browser_aboutPrefs_settings.js]
skip-if = os != 'win'
reason = Tests that update config is properly written to file, which is a Windows-only feature

# Doorhanger Application Update Tests
[browser_doorhanger_bc_check_cantApply.js]
skip-if = os != 'win'
reason = test must be able to prevent file deletion.
[browser_doorhanger_bc_check_malformedXML.js]
[browser_doorhanger_bc_downloaded.js]
[browser_doorhanger_bc_downloaded_staged.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_doorhanger_bc_downloadAutoFailures.js]
[browser_doorhanger_bc_downloadAutoFailures_bgWin.js]
[browser_doorhanger_bc_downloadOptIn.js]
[browser_doorhanger_bc_downloadOptIn_bgWin.js]
[browser_doorhanger_bc_downloadOptIn_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_doorhanger_bc_patch_completeBadSize.js]
[browser_doorhanger_bc_patch_partialBadSize.js]
[browser_doorhanger_bc_patch_partialBadSize_complete.js]
[browser_doorhanger_bc_patch_partialBadSize_completeBadSize.js]
[browser_doorhanger_sp_patch_completeApplyFailure.js]
[browser_doorhanger_sp_patch_partialApplyFailure.js]
[browser_doorhanger_sp_patch_partialApplyFailure_complete.js]
[browser_doorhanger_sp_patch_partialApplyFailure_complete_staging.js]
skip-if = (os == "linux" && verify) || asan
reason = Bug 1520672 and Bug 1168003
[browser_doorhanger_sp_patch_partialApplyFailure_completeBadSize.js]
[browser_TelemetryUpdatePing.js]
