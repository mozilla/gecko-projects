[DEFAULT]
skip-if = debug || os != 'win'
reason = Debug builds leak (Bug 1546287) and BITS is only available on Windows.
dupe-manifest =
tags = appupdate bits
head = head.js
support-files =
  ../data/shared.js
  ../data/sharedUpdateXML.js
  app_update.sjs
  downloadPage.html
  testConstants.js

prefs =
  app.update.BITS.enabled=true

# BITS Download Tests
#####################

# About Dialog Application Update Tests
[browser_aboutDialog_bc_downloaded.js]
[browser_aboutDialog_bc_downloaded_staged.js]
[browser_aboutDialog_fc_downloadAuto.js]
[browser_aboutDialog_fc_downloadAuto_staging.js]
[browser_aboutDialog_fc_downloadOptIn.js]
[browser_aboutDialog_fc_downloadOptIn_staging.js]
[browser_aboutDialog_fc_patch_completeBadSize.js]
[browser_aboutDialog_fc_patch_partialBadSize.js]
[browser_aboutDialog_fc_patch_partialBadSize_complete.js]
[browser_aboutDialog_fc_patch_partialBadSize_completeBadSize.js]

# about:preferences Application Update Tests
[browser_aboutPrefs_bc_downloaded.js]
[browser_aboutPrefs_bc_downloaded_staged.js]
[browser_aboutPrefs_fc_downloadAuto.js]
[browser_aboutPrefs_fc_downloadAuto_staging.js]
[browser_aboutPrefs_fc_downloadOptIn.js]
[browser_aboutPrefs_fc_downloadOptIn_staging.js]
[browser_aboutPrefs_fc_patch_completeBadSize.js]
[browser_aboutPrefs_fc_patch_partialBadSize.js]
[browser_aboutPrefs_fc_patch_partialBadSize_complete.js]
[browser_aboutPrefs_fc_patch_partialBadSize_completeBadSize.js]

# Doorhanger Application Update Tests
[browser_doorhanger_bc_downloaded.js]
[browser_doorhanger_bc_downloaded_staged.js]
[browser_doorhanger_bc_downloadOptIn.js]
[browser_doorhanger_bc_downloadOptIn_staging.js]
[browser_doorhanger_sp_patch_partialApplyFailure_complete.js]
[browser_doorhanger_sp_patch_partialApplyFailure_complete_staging.js]

# Telemetry Application Update Tests
[browser_telemetry_completeBadSize.js]
[browser_telemetry_partialBadSize_completeBadSize.js]
[browser_telemetry_complete_stageFailure.js]
[browser_telemetry_partial_stageFailure_complete_stageFailure.js]
[browser_telemetry_complete_applyFailure.js]
[browser_telemetry_partial_applyFailure_complete_applyFailure.js]
[browser_telemetry_partial_applyFailure_complete_stageFailure.js]
[browser_telemetry_partial_applyFailure_complete_applied.js]
[browser_telemetry_partial_applyFailure_complete_staged_applied.js]
[browser_telemetry_partialBadSize_complete_staged_applied.js]
[browser_telemetry_complete_applied.js]
[browser_telemetry_partial_applied.js]
[browser_telemetry_partial_staged_applied.js]
[browser_telemetry_complete_staged_applied.js]
