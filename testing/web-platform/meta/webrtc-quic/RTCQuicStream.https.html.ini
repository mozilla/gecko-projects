[RTCQuicStream.https.html]
  [Stream closed by local RTCQuicTransport stop(): waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [RTCQuicTransport.stop() closes all remote streams.]
    expected: FAIL

  [Stream closed by remote RTCQuicTransport stop(): readInto() throws InvalidStateError.]
    expected: FAIL

  [Stream closed by local reset(): write() throws InvalidStateError.]
    expected: FAIL

  [createStream() returns an RTCQuicStream with initial properties set.]
    expected: FAIL

  [finish() changes state to 'closing'.]
    expected: FAIL

  [Stream closed by local reset(): waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [Stream closed by local reset(): readInto() throws InvalidStateError.]
    expected: FAIL

  [write() throws if data longer than maxWriteBufferedAmount.]
    expected: FAIL

  [readInto() on new local stream returns amount 0.]
    expected: FAIL

  [Stream closed by remote reset(): readInto() throws InvalidStateError.]
    expected: FAIL

  [createStream() throws if the transport is closed.]
    expected: FAIL

  [Pending waitForWriteBufferedAmountBelow() promises rejected after reset().]
    expected: FAIL

  [RTCQuicTransport.stop() closes all local streams.]
    expected: FAIL

  [Stream closed by remote RTCQuicTransport stop(): waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [Stream closed by remote reset(): waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [write() throws if total write buffered amount would be greater than maxWriteBufferedAmount.]
    expected: FAIL

  [reset() following finish() changes state to 'closed'.]
    expected: FAIL

  [writeBufferedAmount set to 0 after local RTCQuicTransport stop().]
    expected: FAIL

  [write() can write exactly maxWriteBufferedAmount.]
    expected: FAIL

  [waitForWriteBufferedAmountBelow(maxWriteBufferedAmount) resolves immediately.]
    expected: FAIL

  [write() adds to writeBufferedAmount each call.]
    expected: FAIL

  [Stream closed by remote reset(): write() throws InvalidStateError.]
    expected: FAIL

  [createStream() throws if the transport is not connected.]
    expected: FAIL

  [finish() causes quicstream event to fire on the remote transport.]
    expected: FAIL

  [writeBufferedAmount maintained after finish() has been called.]
    expected: FAIL

  [waitForWriteBufferedAmountBelow(0) resolves immediately.]
    expected: FAIL

  [Stream closed by local RTCQuicTransport stop(): readInto() throws InvalidStateError.]
    expected: FAIL

  [write() with an empty array does nothing.]
    expected: FAIL

  [finish() twice does not change state.]
    expected: FAIL

  [Stream closed by local RTCQuicTransport stop(): write() throws InvalidStateError.]
    expected: FAIL

  [write() throws InvalidStateError if finish() has been called.]
    expected: FAIL

  [Pending waitForWriteBufferedAmountBelow() promises rejected after finish().]
    expected: FAIL

  [write() causes quicstream event to fire on the remote transport.]
    expected: FAIL

  [reset() changes state to 'closed'.]
    expected: FAIL

  [Stream closed by remote RTCQuicTransport stop(): write() throws InvalidStateError.]
    expected: FAIL

  [createStream() followed by reset() fires a quicstream event followed by a statechange event to 'closed' on the remote side.]
    expected: FAIL

  [writeBufferedAmount set to 0 after local reset().]
    expected: FAIL

  [Read maxReadBufferedAmount bytes all at once.]
    expected: FAIL

  [Stream closed by local RTCQuicTransport stop(): waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [Stream closed by local reset(): waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [reset() rejects pending waitForReadable() promises.]
    expected: FAIL

  [waitForReadable() rejects with TypeError if amount is more than maxReadBufferedAmount.]
    expected: FAIL

  [Pending waitForReadable() promises rejected after reset().]
    expected: FAIL

  [Pending waitForReadable() promises rejected after remote reset().]
    expected: FAIL

  [waitForReadable() resolves early if remote fin is received.]
    expected: FAIL

  [Read 1 byte.]
    expected: FAIL

  [Stream closed by remote reset(): waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [Stream closed by remote RTCQuicTransport stop(): waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [Reading out finish then a getting a remote reset fires a statechange event to 'closed'.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by finish(): readInto() throws InvalidStateError.]
    expected: FAIL

  [writeBufferedAmount set to 0 after reading remote finish, followed by finish().]
    expected: FAIL

  [readBufferedAmount set to 0 after local reset().]
    expected: FAIL

  [Reading out finish on stream that has already called finish()  state to 'closed'.]
    expected: FAIL

  [readInto() reads out finish after reading all data.]
    expected: FAIL

  [readBufferedAmount set to 0 after remote reset().]
    expected: FAIL

  [Stream closed by finish(), followed by reading remote finish: readInto() throws InvalidStateError.]
    expected: FAIL

  [waitForReadable() resolves with remote finish]
    expected: FAIL

  [Pending waitForReadable() promises rejected after RTCQuicTransport stop().]
    expected: FAIL

  [Stream closed by finish(), followed by reading remote finish: waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [waitForWriteBufferedAmountBelow() promises immediately rejected after finish().]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by finish(): waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [Stream closed by finish(), followed by reading remote finish: waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [waitForReadable() resolves with finish().]
    expected: FAIL

  [Stream closed by finish(), followed by reading remote finish: write() throws InvalidStateError.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by finish(): write() throws InvalidStateError.]
    expected: FAIL

  [Pending waitForReadable() promises rejected after remote RTCQuicTransport stop().]
    expected: FAIL

  [waitForReadable() resolves early if remote finish is received.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by finish(): waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [finish() on a stream that has already read out finish changes state to 'closed'.]
    expected: FAIL

  [waitForReadable() promises immediately rejected with InvalidStateError after finish is read out.]
    expected: FAIL

  [Pending waitForWriteBufferedAmountBelow() promises rejected after RTCQuicTransport stop().]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by writing a finish: waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [waitForReadable() promise resolves with remote finish]
    expected: FAIL

  [Reading out finish on stream that has already called write() with a finish  state to 'closed'.]
    expected: FAIL

  [write() without finish and an empty array throws NotSupportedError.]
    expected: FAIL

  [write() data with a finish adds to writeBufferedAmount.]
    expected: FAIL

  [writeBufferedAmount set to 0 after reading remote finish, followed by write() with finish.]
    expected: FAIL

  [write() with a finish on a stream that has already read out finish changes state to 'closed'.]
    expected: FAIL

  [write() throws InvalidStateError if write() with finish has been called.]
    expected: FAIL

  [Stream closed by writing a finish, followed by reading remote finish: readInto() throws InvalidStateError.]
    expected: FAIL

  [write() with a finish changes state to 'closing'.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by writing a finish: waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [reset() following write with finish changes state to 'closed'.]
    expected: FAIL

  [waitForWriteBufferedAmountBelow() promises immediately rejected after wrote finish.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by writing a finish: write() throws InvalidStateError.]
    expected: FAIL

  [Stream closed by writing a finish, followed by reading remote finish: waitForWriteBufferedBelow() rejects with InvalidStateError.]
    expected: FAIL

  [write() with a finish causes quicstream event to fire on the remote transport.]
    expected: FAIL

  [Stream closed by writing a finish, followed by reading remote finish: write() throws InvalidStateError.]
    expected: FAIL

  [waitForReadable() resolves with write() with finish.]
    expected: FAIL

  [writeBufferedAmount maintained after write() with finish has been called.]
    expected: FAIL

  [Stream closed by by reading remote finish, followed by writing a finish: readInto() throws InvalidStateError.]
    expected: FAIL

  [Pending waitForWriteBufferedAmountBelow() promises rejected after write() with finish.]
    expected: FAIL

  [write() with finish twice throws InvalidStateError.]
    expected: FAIL

  [Stream closed by writing a finish, followed by reading remote finish: waitForReadable() rejects with InvalidStateError.]
    expected: FAIL

  [write() without finish and no data throws NotSupportedError.]
    expected: FAIL

  [write() with a finish and an empty array changes state to 'closing'.]
    expected: FAIL

