<!DOCTYPE html>
<html class="reftest-wait">
  <script>

// We use MozReftestInvalidate here to wait until the font has loaded before
// calling getBoundingClientRect.
document.addEventListener('MozReftestInvalidate', () => {
  let div = document.querySelector('div');
  let span = document.querySelector('span');
  div.style.height = span.getBoundingClientRect().height + 'px';
  document.documentElement.removeAttribute("class");
});

  </script>
  <style>

@font-face {
  font-family: Ahem;
  src: url(../fonts/Ahem.ttf);
}
div {
  font: 16px/1 Ahem;
  width: 1em;
  background: green;
}

  </style>
<div><span></span></div>

