<!DOCTYPE HTML>
<!--
     Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/publicdomain/zero/1.0/
-->
<html><head>
  <meta charset="utf-8">
  <style type="text/css">
  <title>CSS Grid Test: Grid container intrinsic sizing involving percent track min sizing / grid-gap</title>
  <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1302541">
  <link rel="match" href="grid-percent-intrinsic-sizing-002-ref.html">
  <style type="text/css">
html,body {
    color:black; background-color:white; font:16px/1 monospace; padding:0; margin:0;
}

div {
  display: grid;
  float: left;
  grid-template-rows: auto auto;
  grid-template-columns: 5px;
  width: 5px;
  border: 1px solid;
  align-content: start;
  justify-content: start;
}

span {
  min-height: 10px;
  background: grey;
}
span:nth-child(2) { background:lime; }
x { background: blue; }
x:nth-child(2) { background:pink; }

.g10  { grid-gap:10%; }
.gneg { grid-gap: calc(10% - 100px); }
.p1   { grid-template-rows: 10%; }
.p1a  { grid-template-rows: minmax(10%,auto); }
.p10  { grid-template-rows: 10% 10%; }
.p10a { grid-template-rows: minmax(40%,auto) minmax(10%,auto); }
.p10b { grid-template-rows: minmax(40%,auto) 100px; }
.p10c { grid-template-rows: minmax(20%,auto) 100px minmax(20%,auto) ; }
.c10  { grid-template-rows: calc(50px + 10%) calc(50px + 10%); }
.c10a { grid-template-rows: minmax(calc(50px + 10%), auto) minmax(calc(50px + 10%), auto); }
.c10b { grid-template-rows: minmax(calc(50px - 10%), auto) minmax(calc(50px - 10%), auto); }

  </style>
</head>
<body>

<!-- Note that some of the min-height cases below SHOULD overflow. -->

<div class="p1"><span></span></div>
<div class="p1"><x></x></div>
<div class="p10"><span></span></div>
<div class="p10"><x></x></div>
<div class="p1a"><span></span></div>
<div class="p1a"><x></x></div>
<div class="p10a"><span></span><span></span></div>
<div class="p10a"><x></x><span></span></div>
<div class="p10a"><x></x><x></x></div>
<div class="p10b"><span></span><span></span></div>
<div class="p10b"><span></span><x></x></div>
<div class="p10b"><x></x><x></x></div>
<div class="p10b"><span></span><span style="min-height:80px"></span></div>
<div class="p10b"><x></x><span style="min-height:120px"></span></div>
<div class="p10c"><span></span><span></span></div>
<div class="p10c"><span></span><x></x></div>
<div class="c10"><span></span><span></span></div>
<div class="c10"><x></x><x></x></div>
<div class="c10"><span></span><span style="min-height:120px"></span></div>
<div class="c10"><x></x><span></span></div>
<div class="c10a"><span></span><span style="min-height:120px"></span></div>
<div class="c10a"><x></x><span style="min-height:120px"></span></div>
<div class="c10b"><span></span><span style="min-height:120px"></span></div>
<div class="c10b"><x></x><span style="min-height:120px"></span></div>

<div class="g10"><span></span><span></span></div>
<div class="g10 p1"><span></span></div>
<div class="g10 p1"><x></x></div>
<div class="g10 p10"><span></span></div>
<div class="g10 p10"><x></x></div>
<div class="g10 p1a"><span></span></div>
<div class="g10 p1a"><x></x></div>
<div class="g10 p10a"><span></span><span></span></div>
<div class="g10 p10a"><x></x><span></span></div>
<div class="g10 p10a"><x></x><x></x></div>
<div class="g10 p10b"><span></span><span></span></div>
<div class="g10 p10b"><span></span><x></x></div>
<div class="g10 p10b"><x></x><x></x></div>
<div class="g10 p10b"><span></span><span style="min-height:80px"></span></div>
<div class="g10 p10b"><x></x><span style="min-height:120px"></span></div>
<div class="g10 p10c"><span></span><span></span></div>
<div class="g10 p10c"><span></span><x></x></div>
<div class="g10 c10"><span></span><span></span></div>
<div class="g10 c10"><x></x><x></x></div>
<div class="g10 c10"><span></span><span style="min-height:120px"></span></div>
<div class="g10 c10"><x></x><span></span></div>
<div class="g10 c10a"><span></span><span style="min-height:120px"></span></div>
<div class="g10 c10a"><x></x><span style="min-height:120px"></span></div>
<div class="g10 c10b"><span></span><span style="min-height:120px"></span></div>
<div class="g10 c10b"><x></x><span style="min-height:120px"></span></div>

<div class="gneg"><span></span><span></span></div>
<div class="gneg c10a"><span></span><span></span></div>
<div class="gneg p10b"><span></span><span></span></div>

</body>
</html>
